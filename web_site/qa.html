<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>常见问题 - SimplePrj</title>
  <meta name="description" content="SimplePrj 常见问题解答，涵盖安装、使用、打包 EXE、CI/CD 配置等。" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg: #0a0e1a;
      --bg2: #111827;
      --bg3: #1a2235;
      --accent: #6366f1;
      --accent2: #818cf8;
      --text: #f1f5f9;
      --muted: #64748b;
      --border: #1e293b;
    }

    body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; }

    nav {
      position: sticky; top: 0; z-index: 100;
      display: flex; align-items: center; justify-content: space-between;
      padding: 1rem 2rem;
      background: rgba(10,14,26,.85);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--border);
    }
    .nav-brand { font-size: 1.1rem; font-weight: 700; color: var(--accent2); text-decoration: none; }
    .nav-links { display: flex; gap: 1.5rem; list-style: none; }
    .nav-links a { color: var(--muted); text-decoration: none; font-size: .9rem; transition: color .2s; }
    .nav-links a:hover { color: var(--text); }

    .page-header {
      text-align: center; padding: 5rem 2rem 3rem;
      background: radial-gradient(ellipse 70% 40% at 50% 0%, rgba(99,102,241,.15) 0%, transparent 70%);
    }
    .page-header h1 { font-size: clamp(1.8rem,4vw,2.8rem); font-weight: 700; margin-bottom: .75rem; }
    .page-header p { color: var(--muted); max-width: 480px; margin: 0 auto; }

    /* Search */
    .search-wrap { max-width: 560px; margin: 2.5rem auto; padding: 0 2rem; }
    .search-box {
      width: 100%; padding: .8rem 1.2rem;
      background: var(--bg2); border: 1px solid var(--border); border-radius: 8px;
      color: var(--text); font-size: .95rem; font-family: inherit;
      outline: none; transition: border-color .2s;
    }
    .search-box:focus { border-color: var(--accent); }
    .search-box::placeholder { color: var(--muted); }

    /* FAQ list */
    .faq-section { max-width: 720px; margin: 0 auto; padding: 0 2rem 5rem; }
    .faq-category { color: var(--accent2); font-size: .78rem; letter-spacing: .1em; text-transform: uppercase; margin: 2.5rem 0 1rem; }

    details {
      background: var(--bg2); border: 1px solid var(--border); border-radius: 10px;
      margin-bottom: .75rem; overflow: hidden;
      transition: border-color .2s;
    }
    details[open] { border-color: var(--accent); }
    details:hover { border-color: rgba(99,102,241,.5); }

    summary {
      padding: 1rem 1.25rem; font-size: .95rem; font-weight: 500; cursor: pointer;
      list-style: none; display: flex; justify-content: space-between; align-items: center;
      user-select: none;
    }
    summary::after { content: "+"; color: var(--muted); font-size: 1.2rem; transition: transform .2s; }
    details[open] summary::after { content: "−"; }
    summary::-webkit-details-marker { display: none; }

    .faq-answer {
      padding: 0 1.25rem 1.1rem;
      color: var(--muted); font-size: .9rem; line-height: 1.7;
    }
    .faq-answer code {
      background: var(--bg3); padding: .15rem .4rem; border-radius: 4px;
      font-family: monospace; color: #a5f3fc; font-size: .85em;
    }
    .faq-answer a { color: var(--accent2); }

    /* No results */
    .no-results { text-align: center; color: var(--muted); padding: 2rem 0; display: none; }

    footer {
      border-top: 1px solid var(--border); padding: 2rem;
      text-align: center; color: var(--muted); font-size: .85rem;
    }
    footer a { color: var(--muted); text-decoration: none; }
    footer a:hover { color: var(--text); }
    .footer-links { display: flex; justify-content: center; gap: 1.5rem; margin-top: .5rem; }

    .hidden { display: none !important; }
  </style>
</head>
<body>

<nav>
  <a class="nav-brand" href="index.html">SimplePrj</a>
  <ul class="nav-links">
    <li><a href="index.html">首页</a></li>
    <li><a href="qa.html">常见问题</a></li>
    <li><a href="https://github.com/ggc4295/SimplePrj" target="_blank">GitHub</a></li>
  </ul>
</nav>

<div class="page-header">
  <h1>常见问题</h1>
  <p>在这里查找使用过程中遇到的各类问题及解决方案。</p>
</div>

<div class="search-wrap">
  <input class="search-box" type="search" id="searchInput" placeholder="搜索问题..." autocomplete="off" />
</div>

<div class="faq-section" id="faqList">

  <p class="faq-category">安装与环境</p>

  <details>
    <summary>需要什么 Python 版本？</summary>
    <div class="faq-answer">项目支持 Python 3.9、3.10、3.11、3.12。推荐使用最新的 Python 3.12 以获得最佳性能。</div>
  </details>

  <details>
    <summary>如何安装项目依赖？</summary>
    <div class="faq-answer">
      克隆仓库后执行：<br />
      <code>pip install -e .[dev]</code><br />
      这会安装主包及所有开发依赖（pytest、flake8、black、pyinstaller）。
    </div>
  </details>

  <details>
    <summary>如何运行测试？</summary>
    <div class="faq-answer">
      <code>pytest --cov=src -v</code><br />
      测试覆盖率报告会输出到终端，也会生成 <code>coverage.xml</code> 文件。
    </div>
  </details>


  <p class="faq-category">打包 EXE</p>

  <details>
    <summary>如何在本地构建 Windows EXE？</summary>
    <div class="faq-answer">
      首先安装 PyInstaller：<code>pip install pyinstaller</code><br />
      然后在项目根目录运行：<code>python build_exe.py</code><br />
      生成的 <code>simpleprj.exe</code> 位于 <code>dist/</code> 目录。
    </div>
  </details>

  <details>
    <summary>EXE 文件可以在没有安装 Python 的电脑上运行吗？</summary>
    <div class="faq-answer">
      可以。PyInstaller 会将 Python 解释器和所有依赖库打包进单个可执行文件，无需目标机器安装 Python。
    </div>
  </details>

  <details>
    <summary>为什么构建出的 EXE 比较大？</summary>
    <div class="faq-answer">
      因为 PyInstaller 将完整的 Python 运行时打包进去了。这是 onefile 模式的正常现象。
      如果希望减小体积，可以在 <code>simpleprj.spec</code> 中调整 <code>excludes</code> 排除不需要的模块。
    </div>
  </details>


  <p class="faq-category">CI/CD 与 GitHub Actions</p>

  <details>
    <summary>如何触发自动 Release 发布？</summary>
    <div class="faq-answer">
      推送一个 <code>v*</code> 格式的 tag 即可：<br />
      <code>git tag v1.0.0 &amp;&amp; git push --tags</code><br />
      GitHub Actions 会自动构建 Windows EXE 并创建包含 EXE 附件的 Release。
    </div>
  </details>

  <details>
    <summary>GitHub Pages 如何开启？</summary>
    <div class="faq-answer">
      在 GitHub 仓库 Settings → Pages → Source 中选择 <strong>GitHub Actions</strong>（不是 branch/folder）。
      之后每次 push 到 main 分支，<code>web_site/</code> 目录会自动部署到 Pages。
    </div>
  </details>

  <details>
    <summary>Secret Scan 检测到问题怎么办？</summary>
    <div class="faq-answer">
      Gitleaks 会在 Actions 日志中显示检测到的泄漏位置。<br />
      立即将相关 secret 作废（在对应平台重新生成），然后使用 <code>git filter-repo</code> 或 BFG Repo Cleaner 清理历史记录中的敏感信息。
    </div>
  </details>

  <details>
    <summary>Code Review 自动评论为什么没出现？</summary>
    <div class="faq-answer">
      确认以下两点：<br />
      1. Pull Request 目标分支是 <code>main</code> 或 <code>master</code>；<br />
      2. 仓库 Settings → Actions → General → Workflow permissions 已开启 <strong>Read and write permissions</strong>，
      否则 workflow 无法在 PR 上留评论。
    </div>
  </details>


  <p class="faq-category">其他</p>

  <details>
    <summary>可以把此项目作为新项目的模板吗？</summary>
    <div class="faq-answer">
      当然！项目本身就是为演示 GitHub CI/CD 最佳实践而设计的。克隆后替换 <code>src/</code> 中的业务代码，
      CI 流水线（lint、test、secret scan、release）即可直接复用。
    </div>
  </details>

  <details>
    <summary>在哪里提交 Bug 或功能请求？</summary>
    <div class="faq-answer">
      请在 <a href="https://github.com/ggc4295/SimplePrj/issues" target="_blank">GitHub Issues</a> 中提交，
      附上复现步骤和环境信息。
    </div>
  </details>

</div>

<div class="no-results" id="noResults">未找到相关问题，请尝试更换关键词或 <a href="https://github.com/ggc4295/SimplePrj/issues" target="_blank">提交 Issue</a>。</div>

<footer>
  <p>© 2026 SimplePrj. Built for learning and demonstration.</p>
  <div class="footer-links">
    <a href="index.html">首页</a>
    <a href="https://github.com/ggc4295/SimplePrj" target="_blank">GitHub</a>
    <a href="https://github.com/ggc4295/SimplePrj/releases" target="_blank">Releases</a>
  </div>
</footer>

<script>
  const input = document.getElementById('searchInput');
  const noResults = document.getElementById('noResults');
  input.addEventListener('input', () => {
    const q = input.value.toLowerCase().trim();
    const items = document.querySelectorAll('#faqList details');
    const cats = document.querySelectorAll('#faqList .faq-category');
    let visible = 0;
    items.forEach(d => {
      const text = d.textContent.toLowerCase();
      const show = !q || text.includes(q);
      d.classList.toggle('hidden', !show);
      if (show) visible++;
    });
    cats.forEach(c => c.classList.toggle('hidden', !!q));
    noResults.style.display = visible === 0 ? 'block' : 'none';
  });
</script>
</body>
</html>
